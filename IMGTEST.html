<canvas id="canvas" width="500" height="400"></canvas>
<input id="blocks" type="range" min="1" max="10000" value="5" onchange="javascrpt:pixelate()">
<script>
// (C) Ken Fyrstenberg, Epistemex, License: CC3.0-attr
var ctx = canvas.getContext('2d');
var img = new Image();
img.onload = pixelate;
//dynamic!
img.src = 'http://images5.fanpop.com/image/photos/29300000/Companion-Cube-portal-2-29375413-200-200.jpg';
function pixelate() {
    var size = blocks.value * 0.0001,
        w = canvas.width * size,
        h = canvas.height * size;
    ctx.drawImage(img, 0, 0, w, h);
	data = ctx.getImageData(0, 0, w, h);
}
</script>